<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>COMP/STAT 112: Introduction to Data Science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles/styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../src/01-RStudio_Intro.html">Src</a></li><li class="breadcrumb-item"><a href="../src/03-Effective_Viz.html">Effective Visualizations</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">COMP/STAT 112: Introduction to Data Science</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Src</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/01-RStudio_Intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">P1: Intro to R, RStudio, and R Markdown</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/02-Intro_Data_Viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">(PART) Visualization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/03-Effective_Viz.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Effective Visualizations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/04-Bivariate_Viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">options(htmltools.dir.version = FALSE)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/05-Multivariate_Viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multivariate Visualizations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/07-Six_Main_Verbs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">(PART) Data Wrangling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/08-Reshaping_Data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reshaping Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/09-Join.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Joining Two Data Frames</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/10-Factors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Categorical Variables as Factors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/11-Mini_Project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mini-Project</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/12-Data_Import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">(PART) Data Acquisition &amp; Cleaning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/13-EDA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exploratory Data Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/14-Regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regular Expressions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/15-Data_Scraping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">(PART) Additional Topics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/16-API.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Public Web APIs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/17-SQL.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SQL</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/18-Text_Analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Text Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/19-Adv_Viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced Visualization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../src/21-Prez_Tools.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Presentation Tools</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#effective-visualizations" id="toc-effective-visualizations" class="nav-link active" data-scroll-target="#effective-visualizations">Effective Visualizations</a>
  <ul class="collapse">
  <li><a href="#learning-goals" id="toc-learning-goals" class="nav-link" data-scroll-target="#learning-goals">Learning Goals</a></li>
  <li><a href="#effective-visualizations-1" id="toc-effective-visualizations-1" class="nav-link" data-scroll-target="#effective-visualizations-1">Effective Visualizations</a>
  <ul class="collapse">
  <li><a href="#benefits-of-visualizations" id="toc-benefits-of-visualizations" class="nav-link" data-scroll-target="#benefits-of-visualizations">Benefits of Visualizations</a></li>
  <li><a href="#analysis-of-graphics" id="toc-analysis-of-graphics" class="nav-link" data-scroll-target="#analysis-of-graphics">Analysis of Graphics</a></li>
  <li><a href="#properties-of-effective-visualizations" id="toc-properties-of-effective-visualizations" class="nav-link" data-scroll-target="#properties-of-effective-visualizations">Properties of Effective Visualizations</a></li>
  <li><a href="#basic-rules-for-constructing-graphics" id="toc-basic-rules-for-constructing-graphics" class="nav-link" data-scroll-target="#basic-rules-for-constructing-graphics">Basic Rules for Constructing Graphics</a></li>
  <li><a href="#still-to-come" id="toc-still-to-come" class="nav-link" data-scroll-target="#still-to-come">Still to Come</a></li>
  </ul></li>
  <li><a href="#practice" id="toc-practice" class="nav-link" data-scroll-target="#practice">Practice</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="effective-visualizations" class="level1">
<h1>Effective Visualizations</h1>
<section id="learning-goals" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="learning-goals">Learning Goals</h2>
<ul>
<li>Understand and apply the guiding principles of effective visualizations</li>
</ul>
<p>You can download a template .Rmd of this activity <a href="template_rmd/03-Effective_Viz_Assign.Rmd">here</a>. Put the file in a <code>Assignment_03</code> folder within your <code>COMP_STAT_112</code> folder.</p>
</section>
<section id="effective-visualizations-1" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="effective-visualizations-1">Effective Visualizations</h2>
<section id="benefits-of-visualizations" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="benefits-of-visualizations">Benefits of Visualizations</h3>
<p>Visualizations help us understand what we’re working with:</p>
<ul>
<li>What are the scales of our variables?<br>
</li>
<li>Are there any outliers, i.e.&nbsp;unusual cases?<br>
</li>
<li>What are the patterns among our variables?</li>
</ul>
<p>This understanding will inform our next steps:</p>
<ul>
<li>What method of analysis / model is appropriate?</li>
</ul>
<p>Once our analysis is complete, visualizations are a powerful way to communicate our findings and <strong>tell a story</strong>.</p>
</section>
<section id="analysis-of-graphics" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="analysis-of-graphics">Analysis of Graphics</h3>
<p>There is not one right way to visualize a data set.</p>
<p>However, there are guiding principles that distinguish between “good” and “bad” graphics.</p>
<p>One of the best ways to learn is by reading graphics and determining which ways of arranging thing are better or worse. So before jumping directly into theoretical principles, let’s try some critical analysis on specific examples.</p>
<div class="cell">
<pre class="example cell-code"><code>For your assigned graphics or sets of graphics, identify the following:

1. the story the graphic is aiming to communicate to the audience
2. effective features of the graphic
3. areas for improvement</code></pre>
</div>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/badviz3.png"): Cannot find the file(s): "images/badviz3.png"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/trilogies.gif"): Cannot find the file(s): "images/trilogies.gif"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/chernoff.png"): Cannot find the file(s): "images/chernoff.png"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/badviz2.png"): Cannot find the file(s): "images/badviz2.png"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/obama1.png"): Cannot find the file(s): "images/obama1.png"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/breakup.png"): Cannot find the file(s): "images/breakup.png"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/heatmap.png"): Cannot find the file(s): "images/heatmap.png"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/badviz1.png"): Cannot find the file(s): "images/badviz1.png"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/slopegraph1.png"): Cannot find the file(s): "images/slopegraph1.png"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell" data-fig.fullwidth="true">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="03-Effective_Viz_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="336"></p>
<figcaption>Diamond data visualizations from <a href="http://r4ds.had.co.nz/data-visualisation.html#position-adjustments"><em>R for Data Science</em></a>, 2017</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="03-Effective_Viz_files/figure-html/unnamed-chunk-11-2.png" class="img-fluid figure-img" width="336"></p>
<figcaption>Diamond data visualizations from <a href="http://r4ds.had.co.nz/data-visualisation.html#position-adjustments"><em>R for Data Science</em></a>, 2017</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="03-Effective_Viz_files/figure-html/unnamed-chunk-11-3.png" class="img-fluid figure-img" width="336"></p>
<figcaption>Diamond data visualizations from <a href="http://r4ds.had.co.nz/data-visualisation.html#position-adjustments"><em>R for Data Science</em></a>, 2017</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="03-Effective_Viz_files/figure-html/unnamed-chunk-11-4.png" class="img-fluid figure-img" width="336"></p>
<figcaption>Diamond data visualizations from <a href="http://r4ds.had.co.nz/data-visualisation.html#position-adjustments"><em>R for Data Science</em></a>, 2017</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="03-Effective_Viz_files/figure-html/unnamed-chunk-11-5.png" class="img-fluid figure-img" width="336"></p>
<figcaption>Diamond data visualizations from <a href="http://r4ds.had.co.nz/data-visualisation.html#position-adjustments"><em>R for Data Science</em></a>, 2017</figcaption>
</figure>
</div>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/piechart.png"): Cannot find the file(s): "images/piechart.png"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/Nightingale.png"): Cannot find the file(s): "images/Nightingale.png"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/compensation.png"): Cannot find the file(s): "images/compensation.png"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/employees.png"): Cannot find the file(s): "images/employees.png"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/clutter.png"): Cannot find the file(s): "images/clutter.png"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/badviz4.png"): Cannot find the file(s): "images/badviz4.png"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/plagiarism.png"): Cannot find the file(s): "images/plagiarism.png"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/tv-size-by-year1.png"): Cannot find the file(s): "images/tv-size-by-year1.png"</code></pre>
</div>
</div>
<p><br>
<br>
<br>
</p>
<p><strong>More examples</strong>:</p>
<ul>
<li>FlowingData: <a href="http://flowingdata.com/">blog</a> and <a href="https://flowingdata.com/2016/12/29/best-data-visualization-projects-of-2016/">Best visualizations of 2016</a></li>
<li><a href="http://viz.wtf/">WTF Visualizations</a></li>
</ul>
</section>
<section id="properties-of-effective-visualizations" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="properties-of-effective-visualizations">Properties of Effective Visualizations</h3>
<section id="storytelling-context" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="storytelling-context">Storytelling / Context</h4>
<p>Remember …</p>
<blockquote class="blockquote">
<p>Graphics are designed by the human expert (you!) in order to reveal information that’s in the data.</p>
</blockquote>
<p>Your choices depend on what information you want to reveal and convey. So before you complete a graphic, you should clearly identify what story you want the graphic to tell to the audience, and double check that this story is being told.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p><a href="https://fivethirtyeight.com/features/six-charts-to-help-americans-understand-the-upcoming-german-election/">Here</a> is a nice example from <code>FiveThirtyEight</code> where each chart tells a story in answer to a particular question about the [then] upcoming German election.</p>
<p><a href="https://fivethirtyeight.com/features/gun-deaths/">Here</a> is an interactive visualization that tells a story about gun violence.</p>
<p>Another important contextual question to ask is whether the graphic is for an explanatory (<em>explain why</em>) or exploratory (<em>discovering something new</em>) analysis.</p>
</section>
<section id="accessibility" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="accessibility">Accessibility</h4>
<p>In addition to considering the story you are telling, you need to consider what audiences can access your story.</p>
<p><strong>Alternative (Alt) Text</strong>: In order for data visualizations to be accessible to people who are blind and use screen readers, we can provide alt text. Alt text should concisely articulate (1) what your visualization is (e.g.&nbsp;a bar chart showing which the harvest rate of cucumbers), (2) a one sentence description of the what you think is the most important takeaway your visualization is showing, and (3) a link to your data source if it’s not already in the caption (check out this <a href="https://medium.com/nightingale/writing-alt-text-for-data-visualization-2a218ef43f81">great resource on writing alt text for data visualizations</a>).</p>
<p>To add the alt text to your the HTML created from knitting the Rmd, you can include it as an option at the top of your r chunk. For example: {r, fig.alt = “Bar chart showing the daily harvest of cucumbers. The peak cucumber collection day is August 18th”}. To see the alt text in the knitted html file, you can hover over the image.</p>
<p><strong>Color-blind friendly color palettes</strong>: In order for data visualizations to be accessible to people with <a href="https://www.nei.nih.gov/learn-about-eye-health/eye-conditions-and-diseases/color-blindness#:~:text=What%20is%20color%20blindness%3F,and%20contact%20lenses%20can%20help.">color blindness</a>, we need to be thoughtful about the colors we use in our data visualizations. The most common variety of color-blindness makes it hard for individuals to detect differences between red and green. Some types make it hard detect differences between blue and yellow. Other types make it hard to see different shades of a color.</p>
<p>This <a href="https://asada.website/webCVS/">Chromatic Vision Simulator</a> can give you a sense of how this could impact your perception of colors (see image below). You could also upload a visualization to this simulator to see how well your chosen color palette works.</p>
<div class="cell">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/colorblind.jpg"): Cannot find the file(s): "images/colorblind.jpg"</code></pre>
</div>
</div>
<p>Try to use a color-blind friendly / safe palette whenever possible. One easy way to do this is to include <code>+ scale_fill_viridis_d()</code> or <code>+ scale_color_viridis_d()</code> when you are filling or coloring by a discrete or categorical variable and <code>+ scale_fill_viridis_c()</code> or <code>+ scale_color_viridis_c()</code> when you are filling or coloring by a continuous or quantitative variable. There are many other color-blind friendly palettes in R; you can check out other resources <a href="https://cran.r-project.org/web/packages/colorBlindness/vignettes/colorBlindness.html">here</a>.</p>
</section>
<section id="ethics" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="ethics">Ethics</h4>
<p>Michael Correll of Tableau Research writes “Data visualizations have a potentially enormous influence on how data are used to make decisions across all areas of human endeavor.” in his <a href="https://arxiv.org/pdf/1811.07271.pdf">article from 2018</a>.</p>
<p>Visualization operates at the intersection of science, communication, and data science &amp; statistics. There are professional standards of ethics in these fields of the power they hold over other people as it relates to making data-driven decisions.</p>
<p>Correll describes three ethical challenges of visualization work:</p>
<ol type="1">
<li><strong>Visibility</strong> Make the invisible visible</li>
</ol>
<ul>
<li>Visualize hidden labor</li>
<li>Visualize hidden uncertainty</li>
<li>Visualize hidden impacts</li>
</ul>
<p><em>Visualizations can be complex and one must consider the accessibility of the visualization to the audience. Managing complexity is, therefore, a virtue in design that can be in direct opposition with the desire to visualize the invisible.</em></p>
<ol start="2" type="1">
<li><strong>Privacy</strong> Collect data with empathy</li>
</ol>
<ul>
<li>Encourage Small Data</li>
<li>Anthropomorphize data</li>
<li>Obfuscate data to protect privacy</li>
</ul>
<p><em>Restricting the type and amount of data that is collected has a direct impact on the quality and scope of the analyses hence obligation to provide context, and analytical power can, therefore, stand in direct opposition to the empathic collection of data.</em></p>
<ol start="3" type="1">
<li><strong>Power</strong> Challenge structures of power</li>
</ol>
<ul>
<li>Support data due process.</li>
<li>Act as data advocates.</li>
<li>Pressure unethical analytical behavior.</li>
</ul>
<p><em>The goal of promoting truth and suppressing falsehood may require amplifying existing structures of expertise and power, and suppressing conflicts for the sake of rhetorical impact.</em></p>
<p>At a minimum, you should always</p>
<ol type="1">
<li><p>Present data in a way that avoids misleading the audience.</p></li>
<li><p>Always include your data source. Doing so attributes credit for labor, provides credibility to your work, and provides context for your graphic.</p></li>
</ol>
</section>
<section id="design" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="design">Design</h4>
<p>A basic principle is that a graphic is about <em>comparison</em>. Good graphics make it easy for people to perceive things that are similar and things that are different. Good graphics put the things to be compared “side-by-side,” that is, in perceptual proximity to one another. The following aesthetics are listed in roughly descending order of human ability to perceive and compare nearby objects:<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<ol type="1">
<li>Position</li>
<li>Length</li>
<li>Angle</li>
<li>Direction</li>
<li>Shape (but only a very few different shapes)</li>
<li>Area</li>
<li>Volume</li>
<li>Shade</li>
<li>Color</li>
</ol>
<p>Color is the most difficult, because it is a 3-dimensional quantity. We are pretty good at color gradients, but discrete colors must be selected carefully. We need to be particularly aware of red/green color blindness issues.</p>
<p><strong>Visual perception and effective visualizations</strong></p>
<p>Here are some facts to keep in mind about visual perception from <a href="https://www.amazon.com/Now-You-See-Visualization-Quantitative/dp/0970601980">Now You See It</a>:</p>
<ol type="1">
<li>Visual perception is selective, and our attention is often drawn to constrasts from the norm.</li>
</ol>
<div class="cell" data-fig.fullwidth="true">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/contrast.png"): Cannot find the file(s): "images/contrast.png"</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p><strong>Implication</strong>: We should design visualizations so that the features we want to highlight stand out in contrast from those that are not worth the audience’s attention.</p>
</blockquote>
<ol start="2" type="1">
<li>Our eyes are drawn to familiar patterns. We see what we know and expect.</li>
</ol>
<div class="cell" data-fig.fullwidth="true">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/rose1.png"): Cannot find the file(s): "images/rose1.png"</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p><strong>Implication</strong>: Visualizations work best when they display information as patterns that familiar and easy to spot.</p>
</blockquote>
<ol start="3" type="1">
<li>Memory plays an important role in human cognition, but working memory is extremely limited.</li>
</ol>
<blockquote class="blockquote">
<p><strong>Implication</strong>: Visualizations must serve as external aids to augment working memory. If a visualization is unfamiliar, then it won’t be as effective.</p>
</blockquote>
<p><strong>Gestalt principles</strong></p>
<p>The Gestalt principles (more info <a href="https://en.wikipedia.org/wiki/Principles_of_grouping">here</a> or <a href="https://www.smashingmagazine.com/2014/03/design-principles-visual-perception-and-the-principles-of-gestalt/">here</a>) were developed by psychologists including Max Wertheimer in the early 1900s to explain how humans perceive organized patterns and objects.</p>
<p>In a design setting, they help us understand how to incorporate <strong>preattentive features</strong> into visualizations. The figure below shows some preattentive features, all of which are processed prior to conscious attention (“at a glance”) and can help the reader focus on relevant information in a visualization.</p>
<div class="cell" data-fig.fullwidth="true">
<div class="cell-output cell-output-error">
<pre><code>Error in knitr::include_graphics("images/gestalt.png"): Cannot find the file(s): "images/gestalt.png"</code></pre>
</div>
</div>
<p><strong>Other design tips</strong> from <a href="https://www.amazon.com/Visualize-This-FlowingData-Visualization-Statistics/dp/0470944889/">Visualize This</a> and <a href="https://www.amazon.com/Storytelling-Data-Visualization-Business-Professionals/dp/1119002257">Storytelling with Data</a>:</p>
<ul>
<li>Put yourself in a reader’s shoes when you design data graphics. What parts of the data need explanation? We can minimize ambiguity by providing guides, label axes, etc.</li>
<li>Data graphics are meant to shine a light on your data. Try to remove any elements that don’t help you do that. That is, eliminate “chart junk” (distracting and unnecessary adornments).</li>
<li>Vary color and stroke styles to emphasize the parts in your graphic that are most important to the story you’re telling</li>
<li>It is easier to judge length than it is to judge area or angles</li>
<li>Be thoughtful about how your categories (levels) are ordered for categorical data. There may be a natural ordering</li>
<li>Pie charts, donut charts, and 3D are evil</li>
</ul>
</section>
</section>
<section id="basic-rules-for-constructing-graphics" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="basic-rules-for-constructing-graphics">Basic Rules for Constructing Graphics</h3>
<p>Instead of memorizing which plot is appropriate for which situation, it’s best to simply start to recognize patterns in constructing graphics:</p>
<ul>
<li>Each quantitative variable requires a new axis.<br>
</li>
<li>Each categorical variable requires a new way to “group” the graphic (eg: using colors, shapes, separate facets, etc to capture the grouping).</li>
<li>For visualizations in which overlap in glyphs or plots obscures the patterns, try faceting or transparency.</li>
</ul>
</section>
<section id="still-to-come" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="still-to-come">Still to Come</h3>
<p>While we will not cover all of visualization theory – you can take a whole course on that at Macalester and it is a proper field in its own right – we will touch on the following types of visualizations in the coming weeks:</p>
<ul>
<li>Bivariate visualizations</li>
<li>Visualizations of higher dimensional data</li>
<li>Temporal structures: timelines and flows</li>
<li>Hierarchical structures: trees</li>
<li>Relational structures: networks</li>
<li>Spatial structures: maps</li>
<li>Spatio-temporal structures</li>
<li>Textual structures</li>
<li>Interactive graphics (e.g., <code>gganimate</code>, <code>shiny</code>)</li>
</ul>
</section>
</section>
<section id="practice" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="practice">Practice</h2>
<div class="cell">
<pre class="example cell-code"><code>Consider one of the more complicated data graphics listed at (http://mdsr-book.github.io/exercises.html#exercise_25):

a. What story does the data graphic tell? What is the main message that you take away from it?
b. Can the data graphic be described in terms of the Grammar of Graphics (frame, glyphs, aesthetics, facet, scale, guide)? If so, please describe.
c. Critique and/or praise the visualization choices made by the designer. Do they work? Are they misleading? Thought-provoking? Brilliant? Are there things that you would have done differently? Justify your response.</code></pre>
</div>
<details>
<summary>
Solution
</summary>
<p>Example: http://hint.fm/wind/</p>
<ol type="a">
<li><p>The dynamic visual shows the chaos and beauty of the wind. Since the graphic is updated regularly, the exact wind patterns will be different so the overall message is that there is an interesting relationship between topography and wind with a large amount of uncertainty and chaos.</p></li>
<li><p>frame: longitude (x) and latitude (y); glyph: paths/lines, geography boundaries (lower 48 states), circles for cities, text for city names; aesthetics: white color of paths/lines, speed of animation path/line, size of white city circles corresponds to population, dark grey color for geographic polygon boundary, white outlined black text of city names; no facets; guide for speed of animation of paths, no guide for city circle size.</p></li>
<li><p>Since the graphic is only for one time and date, you can’t compare how the patterns change over time. It would be interesting to include elevation in the background map to see how the wind patterns are impacted by the topography.</p></li>
</ol>
</details>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>A “negative” result (e.g., there is no correlation between two variables) is a perfectly fine story to tell.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>This list is from B. S. Baumer, D. T. Kaplan, and N. J. Horton, <em>Modern Data Science with R</em>, 2017, p.&nbsp;15. For more of the theory of perception, see also W.S. Cleveland and R. McGill, “<a href="http://www.math.pku.edu.cn/teachers/xirb/Courses/biostatistics/Biostatistics2016/GraphicalPerception_Jasa1984.pdf">Graphical perception: Theory, experimentation, and application to the development of graphical methods</a>,” <em>Journal of the American Statistical Association</em>, 1984.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>